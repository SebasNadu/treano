
<% i = 1 %>
<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-6">
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Ranking</th>
            <th scope="col">Avatar</th>
            <th scope="col">Username</th>
            <th scope="col">Score</th>
          </tr>
        </thead>
        <tbody>
        <% @users.each do |user| %>
          <tr>
            <th scope="row"><%= i %></th>
            <td>
              <%= link_to user_dashboard_path(user), target: "_blank" do %>
                <% if user.avatar.key.nil? %>
                  <%= image_tag "user.svg", class: "avatar bg-secondary" %>
                <% else %>
                  <%= cl_image_tag user.avatar.key, class: "avatar", :aspect_ratio=>"1.0", :gravity=>"face", :width=>0.6, :zoom=>0.7, :crop=>"thumb", :radius=>"max" %>
                <% end %>
              <% end %>
            </td>
            <td>
              <%= link_to user_dashboard_path(user), target: "_blank" do %>
                <%= user.username %>
              <% end %>
            </td>
            <td><%= user.reputation_score %></td>
          </tr>
          <% i += 1 %>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
